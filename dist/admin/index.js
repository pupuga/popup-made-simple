(()=>{"use strict";const e="popup-made-simple",o={position:"center-center",animation:"fade",windowWidth:800,borderRadius:0,backgroundColor:"#FFFFFF",appearTime:0,close:!0},p=window.wp.plugins,a=window.wp.editor,i=window.wp.components,_=window.wp.data,t=window.wp.element,l=window.ReactJSXRuntime,n=[{label:"Center Center",value:"center-center"},{label:"Top Center",value:"top-center"},{label:"Top Right",value:"top-right"},{label:"Bottom Center",value:"bottom-center"},{label:"Bottom Right",value:"bottom-right"}],m=[{label:"Fade",value:"fade"},{label:"From Top",value:"from-top"},{label:"From Bottom",value:"from-bottom"}];(0,p.registerPlugin)(`${e}-sidebar`,{render:()=>{const{meta:p,postType:r}=(0,_.useSelect)((e=>{const o=e("core/editor");return{meta:o.getEditedPostAttribute("meta")||{},postType:o.getCurrentPostType()}}),[]),{editPost:d}=(0,_.useDispatch)("core/editor"),[s,u]=(0,t.useState)([]),[c,w]=(0,t.useState)(!0);return r!==e?null:((0,t.useEffect)((()=>{const e={_popup_made_simple_position:p?._popup_made_simple_position||o.position,_popup_made_simple_animation:p?._popup_made_simple_animation||o.animation,_popup_made_simple_window_width:p?._popup_made_simple_window_width||o.windowWidth,_popup_made_simple_window_border_radius:p?._popup_made_simple_window_border_radius||o.borderRadius,_popup_made_simple_window_background_color:p?._popup_made_simple_window_background_color||o.backgroundColor,_popup_made_simple_appear_time:p?._popup_made_simple_appear_time||o.appearTime,_popup_made_simple_close:p?._popup_made_simple_close||o.close};d({meta:{...p,...e}})}),[]),(0,t.useEffect)((()=>{wp.apiFetch({path:"/wp/v2/pages"}).then((e=>{const o=e.map((e=>({label:e.title.rendered,value:e.id})));u(o)})).catch((e=>{console.error("Error fetching pages:",e)})).finally((()=>{w(!1)}))}),[]),(0,l.jsx)(l.Fragment,{children:c?(0,l.jsx)(i.Spinner,{}):(0,l.jsxs)(a.PluginDocumentSettingPanel,{name:`${e}-config`,title:"Popup Config",className:`${e}`,children:[(0,l.jsx)(i.SelectControl,{label:"Select a page",value:p?._popup_made_simple_page||"",options:[{label:"All pages",value:"0"},...s],onChange:e=>d({meta:{...p,_popup_made_simple_page:e}})}),(0,l.jsx)(i.SelectControl,{label:"Select a popup position",value:p?._popup_made_simple_position,options:n,onChange:e=>d({meta:{...p,_popup_made_simple_position:e}})}),(0,l.jsx)(i.SelectControl,{label:"Select a type of animation",value:p?._popup_made_simple_animation,options:m,onChange:e=>d({meta:{...p,_popup_made_simple_animation:e}})}),(0,l.jsx)(i.RangeControl,{label:"Enter a window width",value:p?._popup_made_simple_window_width,onChange:e=>d({meta:{...p,_popup_made_simple_window_width:e}}),min:500,max:4096}),(0,l.jsx)(i.RangeControl,{label:"Enter a window border radius",value:p?._popup_made_simple_window_border_radius,onChange:e=>d({meta:{...p,_popup_made_simple_window_border_radius:e}}),min:0,max:20}),(0,l.jsxs)("div",{className:"field-wrapper-row",children:[(0,l.jsx)("label",{children:"Choose a window background color"}),(0,l.jsx)(i.ColorPicker,{color:p?._popup_made_simple_window_background_color,onChange:e=>d({meta:{...p,_popup_made_simple_window_background_color:e}}),enableAlpha:!1})]}),(0,l.jsx)(i.RangeControl,{label:"Enter a time until appearance (s)",value:p?._popup_made_simple_appear_time,onChange:e=>d({meta:{...p,_popup_made_simple_appear_time:e}}),min:0,max:600}),(0,l.jsx)("div",{className:"field-wrapper-row",children:(0,l.jsx)(i.CheckboxControl,{label:"The closing like the acceptance",checked:p?._popup_made_simple_close,onChange:e=>d({meta:{...p,_popup_made_simple_close:e}})})})]})}))}})})();